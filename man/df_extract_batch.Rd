% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extraction.R
\name{df_extract_batch}
\alias{df_extract_batch}
\title{Extract Data for a Batch of Studies using LLM}
\usage{
df_extract_batch(
  chat,
  identifiers,
  paper_paths,
  metawoRld_path,
  force_extract = FALSE,
  stop_on_error = FALSE,
  ellmer_timeout_s = 300,
  ...
)
}
\arguments{
\item{identifiers}{Character vector. A vector of DOIs and/or PMIDs for studies
identified as relevant (e.g., having an "Include" assessment decision).}

\item{paper_paths}{Character vector. \strong{Named} vector or list where names are
the identifiers (matching \code{identifiers} argument) and values are the file
paths to the corresponding full-text \strong{plain text (.txt) files}.}

\item{metawoRld_path}{Character string. Path to the root of the metawoRld project.}

\item{force_extract}{Logical. If TRUE, bypass the extraction cache and re-run
LLM extraction even if cached JSON exists. Defaults to FALSE.}

\item{stop_on_error}{Logical. If TRUE, stop the batch if any single extraction fails.
Defaults to FALSE.}

\item{...}{Additional arguments passed down to the LLM API call function
(e.g., \code{temperature}, \code{max_tokens}).}

\item{service}{Character string. The LLM service to use (e.g., "openai").}

\item{model}{Character string. The specific LLM model name (e.g., "gpt-4-turbo").}
}
\value{
A data frame (tibble) summarizing the extraction attempt for each
identifier, with columns:
\describe{
\item{\code{identifier}}{The DOI or PMID.}
\item{\code{status}}{"Success" (LLM ran, JSON saved), "Cached" (used existing cache), "Skipped" (e.g., missing paper path), or "Failure".}
\item{\code{cache_file}}{Path to the saved/checked cache file if status is "Success" or "Cached".}
\item{\code{error_message}}{The error message if status is "Failure".}
}
Also prints progress and summary information.
}
\description{
Runs the LLM data extraction workflow for multiple studies, taking paths to
full-text files as input. Saves the raw JSON output from the LLM to the
extraction cache within the \code{metawoRld} project. Does \emph{not} import into metawoRld.
Use \code{df_import_batch} subsequently to import cached results.
}
